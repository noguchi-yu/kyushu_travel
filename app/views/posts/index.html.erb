<div class="px-10 py-5">
  <div class="flex items-center">
    <%= image_tag 'red.png', class: "w-6 h-6" %>を押しておすすめスポットを見てみよう
  </div>
</div>
<div id="map" class="w-auto h-[400px] sm:h-[800px]"></div>

<script>
  // 地図を初期化する関数
  function initMap() {
    // 地図要素を取得する（マーカーを表示させるために必要）
    const mapElement = document.getElementById('map');

    // 地図のオプション
    const mapOptions = {
      center: { lat: 33.3202072, lng: 130.5018392 }, // 地図の初期表示位置（久留米）
      zoom: 8, // ズームレベル
      streetViewControl: false, // ストリートビューのボタン非表示
      mapTypeControl: false, // 地図、航空写真のボタン非表示
      fullscreenControl: false, // フルスクリーンボタン非表示
      keyboardShortcuts: false //キーボードショートカットオフ、キーボードボタン非表示
    };

    // 地図を指定した要素に表示
    const map = new google.maps.Map(mapElement, mapOptions);
    // マーカーを追加（Postの情報からマーカーを追加する）
    <% @posts.each do |post| %>
      new google.maps.Marker({
        position: {lat: <%= post.latitude %>, lng: <%= post.longitude %>},
        map: map,
        title: '<%= j post.title %>'
      });
    <% end %>
  }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV["GOOGLE_MAPS_API_KEY"] %>&callback=initMap"></script>
